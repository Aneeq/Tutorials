<!DOCTYPE html>
<!-- saved from url=(0105)https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/ -->
<html lang="en" itemscope="" itemtype="http://schema.org/WebPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://debugmode.net/xmlrpc.php">

<title>Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar</title>
<meta name="google-site-verification" content="hWnjXciRtFGIk7N5io4Dqy1mQMMObTVE2QHlGvcycCA">
		<script src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/remote-login.php" type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel="dns-prefetch" href="https://s2.wp.com/">
<link rel="dns-prefetch" href="https://s1.wp.com/">
<link rel="dns-prefetch" href="https://s0.wp.com/">
<link rel="dns-prefetch" href="https://dhananjay25.wordpress.com/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.pubmine.com/">
<link rel="dns-prefetch" href="https://x.bidswitch.net/">
<link rel="dns-prefetch" href="https://static.criteo.net/">
<link rel="dns-prefetch" href="https://ib.adnxs.com/">
<link rel="dns-prefetch" href="https://aax.amazon-adsystem.com/">
<link rel="dns-prefetch" href="https://bidder.criteo.com/">
<link rel="dns-prefetch" href="https://cas.criteo.com/">
<link rel="dns-prefetch" href="https://gum.criteo.com/">
<link rel="dns-prefetch" href="https://ads.pubmatic.com/">
<link rel="dns-prefetch" href="https://gads.pubmatic.com/">
<link rel="dns-prefetch" href="https://tpc.googlesyndication.com/">
<link rel="dns-prefetch" href="https://ad.doubleclick.net/">
<link rel="dns-prefetch" href="https://googleads.g.doubleclick.net/">
<link rel="dns-prefetch" href="https://www.googletagservices.com/">
<link rel="dns-prefetch" href="https://cdn.switchadhub.com/">
<link rel="dns-prefetch" href="https://delivery.g.switchadhub.com/">
<link rel="dns-prefetch" href="https://delivery.swid.switchadhub.com/">
<link rel="alternate" type="application/rss+xml" title="Dhananjay Kumar » Feed" href="https://debugmode.net/feed/">
<link rel="alternate" type="application/rss+xml" title="Dhananjay Kumar » Comments Feed" href="https://debugmode.net/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Dhananjay Kumar » Step by Step implementing Onion architecture in ASP.NET MVC Application Comments Feed" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/feed/">
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s0.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1505864856h&ver=4.8.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56794,8205,9794,65039],[55358,56794,8203,9794,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/wp-emoji-release.min.js.download" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="all-css-0-1" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource" type="text/css" media="all">
<style id="ixion-style-inline-css" type="text/css">
.tags-links, .byline { clip: rect(1px, 1px, 1px, 1px); height: 1px; position: absolute; overflow: hidden; width: 1px; }
</style>
<link rel="stylesheet" id="ixion-fonts-archivo-css" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/css" type="text/css" media="all">
<link rel="stylesheet" id="all-css-2-1" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource(1)" type="text/css" media="all">
<link rel="stylesheet" id="print-css-3-1" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/global-print.css" type="text/css" media="print">
<link rel="stylesheet" id="all-css-4-1" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource(2)" type="text/css" media="all">
<script type="text/javascript">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource(3)"></script>
<link rel="stylesheet" id="all-css-0-2" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/style.css" type="text/css" media="all">
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://dhananjay25.wordpress.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="11 things about JavaScript functions that .NET developers should know: Part 2" href="https://debugmode.net/2015/04/17/11-things-about-javascript-functions-that-net-developers-should-know-part-2/">
<link rel="next" title="Resources from workshop on Onion Architecture in ASP.NET MVC" href="https://debugmode.net/2015/05/05/resources-from-workshop-on-onion-architecture-in-asp-net-mvc/">
<meta name="generator" content="WordPress.com">
<link rel="canonical" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/">
<link rel="shortlink" href="https://wp.me/pIdBX-3Sn">
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fdebugmode.net%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F&amp;for=wpcom-auto-discovery"><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fdebugmode.net%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F&amp;for=wpcom-auto-discovery">
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="Step by Step implementing Onion architecture in ASP.NET MVC Application">
<meta property="og:url" content="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/">
<meta property="og:description" content="Source Code on the GitHub Learn Creating N-Tier Applications in C#, Part 1 by Steve Smith here – I learnt lot from this course hence sharing Recently I gave a talk on Onion Architecture in MV…">
<meta property="article:published_time" content="2015-04-17T05:53:09+00:00">
<meta property="article:modified_time" content="2015-04-20T14:24:07+00:00">
<meta property="og:site_name" content="Dhananjay Kumar">
<meta property="og:image" content="https://dhananjay25.files.wordpress.com/2015/04/image_thumb9.png">
<meta property="og:locale" content="en_US">
<meta name="twitter:site" content="@debug_mode">
<meta name="twitter:text:title" content="Step by Step implementing Onion architecture in ASP.NET MVC Application">
<meta name="twitter:image" content="https://dhananjay25.files.wordpress.com/2015/04/image_thumb2.png?w=240">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@debug_mode">
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom">
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/a4ee6598425293dab3d0c39b7600711a?s=32" sizes="16x16">
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/a4ee6598425293dab3d0c39b7600711a?s=32" sizes="16x16">
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/a4ee6598425293dab3d0c39b7600711a?s=114">
<link rel="openid.server" href="https://dhananjay25.wordpress.com/?openidserver=1">
<link rel="openid.delegate" href="https://dhananjay25.wordpress.com/">
<link rel="search" type="application/opensearchdescription+xml" href="https://debugmode.net/osd.xml" title="Dhananjay Kumar">
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com">
<meta name="theme-color" content="#ffffff">
		<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="Dhananjay Kumar"><meta name="msapplication-window" content="width=device-width;height=device-height"><meta name="msapplication-tooltip" content="Developer Evangelist @Infragistics  | MVP @Microsoft"><meta name="msapplication-task" content="name=Subscribe;action-uri=https://debugmode.net/feed/;icon-uri=https://secure.gravatar.com/blavatar/a4ee6598425293dab3d0c39b7600711a?s=16"><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s2.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico"><meta name="title" content="Step by Step implementing Onion architecture in ASP.NET MVC Application | Dhananjay Kumar on WordPress.com">
<meta name="description" content="Source Code on the GitHub Learn Creating N-Tier Applications in C#, Part 1 by Steve Smith here - I learnt lot from this course hence sharing Recently I gave a talk on Onion Architecture in MVC application to the audience of 300 at the C-Sharpcorner conference 2015. Talk was well received and I had a…">
		<script type="text/javascript">
		var __ATA_PP = { pt: 1, ht: 1, tn: 'ixion', amp: false };
		</script>
		<script type="text/javascript" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/head.js.download"></script>
		<script type="text/javascript" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/publishertag.js.download"></script><link rel="amphtml" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/amp/"><link rel="stylesheet" type="text/css" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/shCore.css"><link rel="stylesheet" type="text/css" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
<script charset="utf-8" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/rate.php"></script><style type="text/css"></style><style type="text/css" id="pd_popup_holder_style_7545118_post_14903">#pd_popup_holder_7545118_post_14903 { position:absolute; display:none; width:350px; height:auto; top:0px; left:0px; z-index:10000; border:solid 1px #CCC; background-color:white; padding:0px 15px;font-family:Arial,Sans;box-shadow: -10px 10px 20px rgba(0, 0, 0, .5);-webkit-box-shadow: 0px 0px 6px rgba(0, 0, 0, .25);-moz-box-shadow: 0px 0px 6px rgba(0, 0, 0, .25); }</style></head>

<body class="post-template-default single single-post postid-14903 single-format-standard mp6 customizer-styles-applied singular has-description no-featured-posts tags-hidden author-hidden highlander-enabled highlander-light">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#content">Skip to content</a>

	<header id="masthead" class="site-header" role="banner">

		<div class="utility-container">
						
<form role="search" method="get" class="search-form" action="https://debugmode.net/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search …" value="" name="s" title="Search for:">
		<span class="search-form-icon"></span>
	</label>
	<input type="submit" class="search-submit" value="Search">
</form>
		</div>

		<div class="branding-container">
					<div class="site-branding">
			
								<p class="site-title"><a href="https://debugmode.net/" rel="home">Dhananjay Kumar</a></p>
					</div><!-- .site-branding -->
			<nav id="site-navigation" class="main-navigation" role="navigation">
	<button class="menu-toggle" aria-controls="top-menu" aria-expanded="false">Menu</button>
	<div class="menu-menu1-container"><ul id="top-menu" class="menu nav-menu" aria-expanded="false"><li id="menu-item-14692" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14692"><a title="GitHub" href="https://github.com/debugmodedotnet/">GitHub</a></li>
<li id="menu-item-14693" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14693"><a href="https://www.linkedin.com/profile/view?id=77054081">LinkedIn</a></li>
<li id="menu-item-14694" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14694"><a href="https://twitter.com/debug_mode">Twitter</a></li>
<li id="menu-item-14695" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14695"><a href="https://www.facebook.com/DebugMode.Net">Facebook</a></li>
<li id="menu-item-14690" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14690"><a title="Speaking" href="https://debugmode.net/speaking/">Speaking</a></li>
</ul></div></nav>
		</div>

	</header>

	
	<div id="content" class="site-content">
		<div class="entry-meta">
			<span class="posted-on"><a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/" rel="bookmark"><time class="entry-date published" datetime="2015-04-17T11:23:09+00:00">April 17, 2015</time><time class="updated" datetime="2015-04-20T19:54:07+00:00">April 20, 2015</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://debugmode.net/author/dhananjay25/">Dhananjay Kumar</a></span></span> <span class="cat-links"><a href="https://debugmode.net/category/mvc/" rel="category tag">MVC</a></span>					</div><!-- .entry-meta -->
<h1 class="entry-title">Step by Step implementing Onion architecture in ASP.NET MVC Application</h1>
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
<article id="post-14903" class="post-14903 post type-post status-publish format-standard hentry category-mvc tag-asp-net-mvc tag-mvc tag-onion-architecture no-featured-image">
	<div class="entry-body">
		<header class="entry-header">
					</header>
		<div class="entry-content">
			<p><a href="https://github.com/debugmodedotnet/onionarchitecturemvc">Source Code on the GitHub</a></p>
<p><a href="http://www.pluralsight.com/courses/n-tier-apps-part1">Learn Creating N-Tier Applications in C#, Part 1 by Steve Smith here – I learnt lot from this course hence sharing</a><br>
Recently I gave a talk on Onion Architecture in MVC application to the audience of 300 at the C-Sharpcorner conference 2015. Talk was well received and I had a many request to write a step by step blog post on the same. So here I am writing that. In this blog post is written in simplest words and will help you in implementing onion architecture in ASP.NET MVC application. Even though theme of this post is ASP.NET MVC, you can use the core, infrastructure and the test project with other kind of applications as well like WCF or WPF.</p>
<h4><a href="https://debugmode.net/2014/09/12/refactoring-the-asp-net-mvc-application-to-the-onion-architecture/">You may want to read: Refactoring the ASP.NET MVC Application to the Onion Architecture</a></h4>
<p><a href="https://github.com/debugmodedotnet/onionarchitecturemvc">Source Code on the GitHub</a></p>
<h4>What is onion architecture</h4>
<p>Onion Architecture is the preferred way of architecting application for better testability, maintainability and dependability on the infrastructures like databases and services. This term was first coined by Jeffery Palermo in his blog back in 2008.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image2.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb2.png" alt="image" width="624" height="288" border="0"></a></p>
<h5>Advantages of Onion architecture</h5>
<ul>
<li>In the Onion Architecture layers talk to each other using the Interfaces. Any concrete implantation would be provided to application at the run time.</li>
<li>Any external dependency like database access and the web service call are part of the external layers</li>
<li>UI is part of the external layers</li>
<li>Objects representing domain are part of the internal layers or they are the centers</li>
<li>External layers can depend on the layers internal to it or central to it</li>
<li>Internal layer should not depend on the external layers.</li>
<li>Domain object which is at the core or centre can have access to the both the UI and the database layers.</li>
<li>All the coupling are towards the centre</li>
<li>Codes which may change often should be part of the external layers</li>
</ul>
<h4>Project structure</h4>
<p>Let us start with creating the solution structure. We are going to work with the four projects.</p>
<ol>
<li>Core project (Class library )</li>
<li>Infrastructure project (Class library)</li>
<li>Test project (Unit Test project)</li>
<li>Web project (MVC project)</li>
</ol>
<p>Core project will contain the domain entities and the repositories interfaces. Infrastructure project will contain the classes (in this case EF data context) which will work with the database. The Test project will have the tests and the MVC project will contain the MVC controllers and the view.</p>
<p>Solution structure should look like as listed in the below image.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image3.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb3.png" alt="image" width="287" height="160" border="0"></a></p>
<h4>Core project</h4>
<p>The core project is the inner most layer of the architecture. All the external layers like infrastructure, web etc. will use and depend on the core layer. However core project does not depend on any other layers.</p>
<p>Usually the core project should contain,</p>
<ul>
<li>Domain entities</li>
<li>Repositories interfaces</li>
</ul>
<p>It should not have any external dependencies. For example we must not have the following references in the core project,</p>
<ul>
<li>Reference of the ORM like LINQ to SQL or EF</li>
<li>Reference of ADO.NET libraries</li>
<li>Reference of Entity Framework etc.</li>
</ul>
<h5>Create Entity</h5>
<p>Let us go ahead and create BloodDonor entity class.</p>
<div><div id="highlighter_718642" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">public</code> <code class="csharp keyword">class</code> <code class="csharp plain">BloodDonor</code></div><div class="line number2 index1 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number3 index2 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">BloodDonorID { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number4 index3 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">Name { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">DateTime Dob { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">BloodGroup { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">City { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">Country { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">int</code> <code class="csharp plain">PinCode { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">PhoneNumber { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">Email { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">bool</code> <code class="csharp plain">IsActive { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">bool</code> <code class="csharp plain">IsPrivate { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">bool</code> <code class="csharp plain">IsVerified { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>We may have a requirement to have some restrictions on the entity properties. For example maximum length, required etc. We do have two choices to achieve this,</p>
<ol>
<li>Using <b>System.ComponentModel.DataAnnotations </b></li>
<li>Use Entity Framework fluent API.</li>
</ol>
<p>Both above approaches have their own advantages. However to keep core project without having any external dependencies like EntityFramework, I prefer to use DataAnnotations. To use DataAnnotations add System.ComponentModel.DataAnnotations reference in the core project. We can modify the entity class as shown in listing below,</p>
<div><div id="highlighter_839909" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">System;</code></div><div class="line number2 index1 alt1"><code class="csharp keyword">using</code> <code class="csharp plain">System.ComponentModel.DataAnnotations;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="csharp keyword">namespace</code> <code class="csharp plain">LifeLine.Core</code></div><div class="line number5 index4 alt2"><code class="csharp plain">{</code></div><div class="line number6 index5 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">class</code> <code class="csharp plain">BloodDonor</code></div><div class="line number7 index6 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[Required]</code></div><div class="line number9 index8 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">BloodDonorID { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number10 index9 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[Required]</code></div><div class="line number11 index10 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[MaxLength(50)]</code></div><div class="line number12 index11 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">Name { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number13 index12 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[Required]</code></div><div class="line number14 index13 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">BloodGroup { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number15 index14 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[Required]</code></div><div class="line number16 index15 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">City { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">Country { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number19 index18 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[Required]</code></div><div class="line number20 index19 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">int</code> <code class="csharp plain">PinCode { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number21 index20 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[Required]</code></div><div class="line number22 index21 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">PhoneNumber { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">string</code> <code class="csharp plain">Email { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">bool</code> <code class="csharp plain">IsActive { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">bool</code> <code class="csharp plain">IsPrivate { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">bool</code> <code class="csharp plain">IsVerified { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number33 index32 alt2"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>As of now we have created the BloodDonor entity class with the data annotations. Next we need to add the repository interface.</p>
<h5>Create Repository interface</h5>
<p>We are going to follow the repository pattern. Roughly repository pattern allows us to replace the database access codes (class) without affecting the other layers. In the repository interface we will put definition of all the database operations need to perform.</p>
<div><div id="highlighter_110793" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">System.Collections.Generic;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="csharp keyword">namespace</code> <code class="csharp plain">LifeLine.Core.Interfaces</code></div><div class="line number4 index3 alt1"><code class="csharp plain">{</code></div><div class="line number5 index4 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">interface</code> <code class="csharp plain">IBloodDonorRepository</code></div><div class="line number6 index5 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number7 index6 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">void</code> <code class="csharp plain">Add(BloodDonor b);</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">void</code> <code class="csharp plain">Edit(BloodDonor b);</code></div><div class="line number9 index8 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">void</code> <code class="csharp plain">Remove(</code><code class="csharp keyword">string</code> <code class="csharp plain">BloodDonorID);</code></div><div class="line number10 index9 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IEnumerable&lt;BloodDonor&gt; GetBloodDonors();</code></div><div class="line number11 index10 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonor FindById(</code><code class="csharp keyword">string</code> <code class="csharp plain">BloodDonorID);</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number14 index13 alt1"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>As of now we have created the domain entity and the repository interface. Next let us go ahead and create the infrastructure project.</p>
<h4>Infrastructure project</h4>
<p>In the infrastructure project we perform operations related to outside the application. For example,</p>
<ul>
<li>Database operation</li>
<li>Accessing outside service</li>
<li>Accessing File systems</li>
</ul>
<p>Above operations should be part of the infrastructure project. We are going to use the Entity Framework to perform the database operations. We are working with the Entity Framework code first approach, so we need to perform the following steps,</p>
<ol>
<li>Create the data context class</li>
<li>Implement the repository class</li>
<li>Create the data base initializer class</li>
</ol>
<p>Before we go ahead and create the data context class, let us go ahead and add reference of the Entity Framework. To add the reference right click on the infrastructure project and select manage Nuget package. From Nuget package manager select the Entity framework package to install in the project.</p>
<h5>DataContext class</h5>
<p>Let us create the data context class. In the EF code first approach, we create the data context class which will represent the database. Since we have only one business entity, so we will create one table BloodDonors.</p>
<div><div id="highlighter_754677" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">System.Data.Entity;</code></div><div class="line number2 index1 alt1"><code class="csharp keyword">using</code> <code class="csharp plain">LifeLine.Core;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="csharp keyword">namespace</code> <code class="csharp plain">LifeLine.Infrastructure</code></div><div class="line number5 index4 alt2"><code class="csharp plain">{</code></div><div class="line number6 index5 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">class</code> <code class="csharp plain">BloodDonorContext : DbContext</code></div><div class="line number7 index6 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">BloodDonorContext()</code></div><div class="line number9 index8 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">: </code><code class="csharp keyword">base</code><code class="csharp plain">(</code><code class="csharp string">"name=BloodDonorContextConnectionString"</code><code class="csharp plain">)</code></div><div class="line number10 index9 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number11 index10 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">var</code> <code class="csharp plain">a = Database.Connection.ConnectionString;</code></div><div class="line number12 index11 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">DbSet&lt;BloodDonor&gt; BloodDonors { </code><code class="csharp keyword">get</code><code class="csharp plain">; </code><code class="csharp keyword">set</code><code class="csharp plain">; }</code></div><div class="line number15 index14 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number16 index15 alt1"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Connection string</p>
<p>Optionally either you can pass the connection string or rely on the Entity Framework to create the database. We will set up the connection string in <b>app.config </b>of the infrastructure project. Let us go ahead and set the connection string as shown in the below listing,</p>
<div><div id="highlighter_317724" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">connectionStrings</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">add</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"BloodDonorContextConnectionString"</code> <code class="xml color1">connectionString</code><code class="xml plain">=</code><code class="xml string">"Data Source=(LocalDb)\v11.0;Initial Catalog=BloodDonors;Integrated Security=True;MultipleActiveResultSets=true"</code> <code class="xml color1">providerName</code><code class="xml plain">=</code><code class="xml string">"System.Data.SqlClient"</code><code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">connectionStrings</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>Database initialize class</p>
<p>We want database to initialize with some initial values. It can be done as shown in the below listing,</p>
<div><div id="highlighter_866842" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">System;</code></div><div class="line number2 index1 alt1"><code class="csharp keyword">using</code> <code class="csharp plain">System.Data.Entity;</code></div><div class="line number3 index2 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">LifeLine.Core;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="csharp keyword">namespace</code> <code class="csharp plain">LifeLine.Infrastructure</code></div><div class="line number6 index5 alt1"><code class="csharp plain">{</code></div><div class="line number7 index6 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">class</code> <code class="csharp plain">BloodDonorInitalizeDb : DropCreateDatabaseIfModelChanges&lt;BloodDonorContext&gt;</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">protected</code> <code class="csharp keyword">override</code> <code class="csharp keyword">void</code> <code class="csharp plain">Seed(BloodDonorContext context)</code></div><div class="line number11 index10 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number12 index11 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">context.BloodDonors.Add(</code></div><div class="line number13 index12 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">new</code> <code class="csharp plain">BloodDonor</code></div><div class="line number14 index13 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number15 index14 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Name = </code><code class="csharp string">"Rahul Kapoor"</code><code class="csharp plain">,</code></div><div class="line number16 index15 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">City = </code><code class="csharp string">"Gurgaon"</code><code class="csharp plain">,</code></div><div class="line number17 index16 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodGroup = </code><code class="csharp string">"A+"</code><code class="csharp plain">,</code></div><div class="line number18 index17 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonorID = </code><code class="csharp string">"BD1"</code><code class="csharp plain">,</code></div><div class="line number19 index18 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Country = </code><code class="csharp string">"India"</code><code class="csharp plain">,</code></div><div class="line number20 index19 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IsActive = </code><code class="csharp keyword">true</code><code class="csharp plain">,</code></div><div class="line number21 index20 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IsPrivate = </code><code class="csharp keyword">false</code><code class="csharp plain">,</code></div><div class="line number22 index21 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IsVerified = </code><code class="csharp keyword">true</code><code class="csharp plain">,</code></div><div class="line number23 index22 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">PhoneNumber = </code><code class="csharp string">"91+7378388383"</code><code class="csharp plain">,</code></div><div class="line number24 index23 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">PinCode = 122002,</code></div><div class="line number25 index24 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Email = </code><code class="csharp string">"Rahul@abc.com"</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">});</code></div><div class="line number28 index27 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">context.BloodDonors.Add(</code></div><div class="line number29 index28 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">new</code> <code class="csharp plain">BloodDonor</code></div><div class="line number30 index29 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number31 index30 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Name = </code><code class="csharp string">"Salman Khan"</code><code class="csharp plain">,</code></div><div class="line number32 index31 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">City = </code><code class="csharp string">"Mumbai"</code><code class="csharp plain">,</code></div><div class="line number33 index32 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodGroup = </code><code class="csharp string">"A-"</code><code class="csharp plain">,</code></div><div class="line number34 index33 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonorID = </code><code class="csharp string">"BD2"</code><code class="csharp plain">,</code></div><div class="line number35 index34 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Country = </code><code class="csharp string">"India"</code><code class="csharp plain">,</code></div><div class="line number36 index35 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IsActive = </code><code class="csharp keyword">true</code><code class="csharp plain">,</code></div><div class="line number37 index36 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IsPrivate = </code><code class="csharp keyword">false</code><code class="csharp plain">,</code></div><div class="line number38 index37 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IsVerified = </code><code class="csharp keyword">true</code><code class="csharp plain">,</code></div><div class="line number39 index38 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">PhoneNumber = </code><code class="csharp string">"91+84848484"</code><code class="csharp plain">,</code></div><div class="line number40 index39 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">PinCode = 25678,</code></div><div class="line number41 index40 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Email = </code><code class="csharp string">"Salman@abc.com"</code></div><div class="line number42 index41 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number43 index42 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">);</code></div><div class="line number44 index43 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">base</code><code class="csharp plain">.Seed(context);</code></div><div class="line number45 index44 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number46 index45 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number47 index46 alt2"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>We are setting the value that if the model changes recreate the database. We can explore the other options of the entity framework also.</p>
<h5>Repository class implementation</h5>
<p>Next we need to implement the repository class. Repository class will access the database using the LINQ to Entity. To create the BloodDonorRepository class let us go ahead and create a class which will implement the IBloodDonorRepository interface.</p>
<div><div id="highlighter_789480" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">System.Collections.Generic;</code></div><div class="line number2 index1 alt1"><code class="csharp keyword">using</code> <code class="csharp plain">System.Linq;</code></div><div class="line number3 index2 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">LifeLine.Core;</code></div><div class="line number4 index3 alt1"><code class="csharp keyword">using</code> <code class="csharp plain">LifeLine.Core.Interfaces;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="csharp keyword">namespace</code> <code class="csharp plain">LifeLine.Infrastructure</code></div><div class="line number7 index6 alt2"><code class="csharp plain">{</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">class</code> <code class="csharp plain">BloodDonorRepository : IBloodDonorRepository</code></div><div class="line number9 index8 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number10 index9 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonorContext context = </code><code class="csharp keyword">new</code> <code class="csharp plain">BloodDonorContext();</code></div><div class="line number11 index10 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">void</code> <code class="csharp plain">Add(BloodDonor b)</code></div><div class="line number12 index11 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number13 index12 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">context.BloodDonors.Add(b);</code></div><div class="line number14 index13 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">context.SaveChanges();</code></div><div class="line number15 index14 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">void</code> <code class="csharp plain">Edit(BloodDonor b)</code></div><div class="line number18 index17 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number19 index18 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">context.Entry(b).State = System.Data.Entity.EntityState.Modified;</code></div><div class="line number20 index19 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">void</code> <code class="csharp plain">Remove(</code><code class="csharp keyword">string</code> <code class="csharp plain">BloodDonorID)</code></div><div class="line number23 index22 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number24 index23 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonor b = context.BloodDonors.Find(BloodDonorID);</code></div><div class="line number25 index24 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">context.BloodDonors.Remove(b);</code></div><div class="line number26 index25 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">context.SaveChanges();</code></div><div class="line number27 index26 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">IEnumerable&lt;BloodDonor&gt; GetBloodDonors()</code></div><div class="line number30 index29 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number31 index30 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">context.BloodDonors;</code></div><div class="line number32 index31 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">BloodDonor FindById(</code><code class="csharp keyword">string</code> <code class="csharp plain">BloodDonorID)</code></div><div class="line number35 index34 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number36 index35 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">var</code> <code class="csharp plain">bloodDonor = (</code><code class="csharp keyword">from</code> <code class="csharp plain">r </code><code class="csharp keyword">in</code> <code class="csharp plain">context.BloodDonors </code><code class="csharp keyword">where</code> <code class="csharp plain">r.BloodDonorID == BloodDonorID </code><code class="csharp keyword">select</code> <code class="csharp plain">r).FirstOrDefault();</code></div><div class="line number37 index36 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">bloodDonor;</code></div><div class="line number38 index37 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number39 index38 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number40 index39 alt1"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>To implement the repository class, we are using the LINQ to Entity for the database operations. For example to add a blood donor,</p>
<ol>
<li>Create object of context class</li>
<li>Use context.entiy.Add(entity)</li>
<li>Use context.SaveChnages()</li>
</ol>
<p>As of now we have implemented the infrastructure project. Make sure to build the project to confirm everything is fine.</p>
<h4>Directly MVC project or should we write test?</h4>
<p>After creation of core project and the infrastructure project, we need to take a decision that whether we want to directly create the MVC project or write the unit test for the repository class. Better approach would be to write the Unit tests for the repository class such that we would be sure that database related code has been implemented correctly.</p>
<h4>Test Project</h4>
<p>We have created a test project by selection Unit Test project template from the Test project tab. To start writing test, very first in the unit test project we need to add following references</p>
<ol>
<li>Reference of the core project</li>
<li>Reference of the infrastructure project</li>
<li>Entity framework package</li>
<li>Reference of the System.LINQ</li>
</ol>
<p>In the test project, I have created a class called BloodDonorRepositoryTest. Inside the unit test class initialize the test as shown in listing below,</p>
<p>&nbsp;</p>
<div><div id="highlighter_223734" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp plain">BloodDonorRepository repo;</code></div><div class="line number2 index1 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[TestInitialize]</code></div><div class="line number3 index2 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">void</code> <code class="csharp plain">TestSetUp()</code></div><div class="line number4 index3 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonorInitalizeDb db = </code><code class="csharp keyword">new</code> <code class="csharp plain">BloodDonorInitalizeDb();</code></div><div class="line number7 index6 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">System.Data.Entity.Database.SetInitializer(db);</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">repo = </code><code class="csharp keyword">new</code> <code class="csharp plain">BloodDonorRepository();</code></div><div class="line number9 index8 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>In the test setup, we are creating instance of BloodDonorInitalizeDb class and then setting up the database with the initial values. Also in the test setup, instance of repository class is created. Next let us create test to validate whether data base is initialized with the right number of data or not.</p>
<div><div id="highlighter_212768" class="syntaxhighlighter  csharp "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp plain">[TestMethod]</code></div><div class="line number2 index1 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">void</code> <code class="csharp plain">IsRepositoryInitalizeWithValidNumberOfData()</code></div><div class="line number3 index2 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number4 index3 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">var</code> <code class="csharp plain">result = repo.GetBloodDonors();</code></div><div class="line number5 index4 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Assert.IsNotNull(result);</code></div><div class="line number6 index5 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">var</code> <code class="csharp plain">numberOfRecords = result.ToList().Count;</code></div><div class="line number7 index6 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">Assert.AreEqual(2, numberOfRecords);</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>In the test above we are calling the GetBloodDonors method of the repository class and then verifying the number of records. In ideal condition above test should be passed. You can verify the test result in Test-Window-Test Explorer</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/clip_image0021.jpg"><img style="display:inline;border:0;" title="clip_image002" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/clip_image002_thumb1.jpg" alt="clip_image002" width="633" height="360" border="0"></a></p>
<p>We can right tests for add, edit, and delete also. As of now we have written test to verify that database is getting created along with the initialized data. We can be sure about the implementation of the repository class after passing the test. Now let us go ahead and implement the web project.</p>
<h4>Web Project</h4>
<p>We are going to create MVC project which will use the core project and the infrastructure project. Add following reference in the MVC project</p>
<ol>
<li>Reference of infrastructure project</li>
<li>Reference of core project</li>
<li>Entity framework package</li>
</ol>
<p>After adding all the references build the web project. If everything is find we should get successful build. Next let us write click on the Controller folder and add a new controller. Select create controller with Entity Framework with view option. Give name of the controller as BloodDonorsController.</p>
<p>Also we need to select the following options,</p>
<ol>
<li>BloodDonor class from the core project as the Model class</li>
<li>BloodDonorContext class as the data context class from the Infrastructure project</li>
</ol>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image4.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb4.png" alt="image" width="624" height="404" border="0"></a></p>
<p>We have created the controller along with the view using the scaffolding. At this point if we notice the web project, we will find BloodDonors controller and a BloodControllers subfolder in the view folder.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image5.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb5.png" alt="image" width="347" height="339" border="0"></a></p>
<p>&nbsp;</p>
<p>As of now we have created the controller using the model and data context class. Next we need to create instance of BloodDonorInitalizeDb class and set the database. We need to write this code inside the <b>global.asax</b> .</p>
<div><div id="highlighter_386452" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp plain">BloodDonorInitalizeDb db = </code><code class="csharp keyword">new</code> <code class="csharp plain">BloodDonorInitalizeDb();</code></div><div class="line number2 index1 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">System.Data.Entity.Database.SetInitializer(db);</code></div></div></td></tr></tbody></table></div></div>
<p>Last we need to copy the connection string from the app.config of infrastructure project to web.config of the web project. So let us go ahead copy the connection string in the web.config</p>
<div><div id="highlighter_413561" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">connectionStrings</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">add</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"BloodDonorContextConnectionString"</code> <code class="xml color1">connectionString</code><code class="xml plain">=</code><code class="xml string">"Data Source=(LocalDb)\v11.0;Initial Catalog=BloodDonors;Integrated Security=True;MultipleActiveResultSets=true"</code> <code class="xml color1">providerName</code><code class="xml plain">=</code><code class="xml string">"System.Data.SqlClient"</code><code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">connectionStrings</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>At this point if we run the application we should able to perform the CRUD operations.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image6.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb6.png" alt="image" width="624" height="236" border="0"></a></p>
<p>&nbsp;</p>
<h4>Dependency Injection using Unity</h4>
<p>We have a running application but there is a problem. On noticing the controller class closely, we will find that object of the data context class is directly created inside the controller. We used scaffolding to create the controller using the entity framework and it causes creation of data context object inside the controller. Right now the controller and the data context class are tightly coupled to each other and if we change database access program then controller will be affected also.</p>
<p>We should not have the BloodDonorContext object inside the controller.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/clip_image0026.jpg"><img style="display:inline;border:0;" title="clip_image002[6]" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/clip_image0026_thumb.jpg" alt="clip_image002[6]" width="718" height="301" border="0"></a></p>
<p>We have already created the repository class inside the infrastructure project. We should use the repository class inside the controller class. We have two options to use the repository class</p>
<ol>
<li>Directly create the object of repository class in the controller class</li>
<li>Use dependency injection to resolve repository interface to the concrete repository class object at the run time using the unity container.</li>
</ol>
<p>We are going to use the second approach. To use the unity container add Unity.Mvc5 package in the web project using the manage Nuget package.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image7.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb7.png" alt="image" width="624" height="196" border="0"></a></p>
<p>After installing the unity package, we need to register the type. To register the type open the UnityConfig class inside the App_Start folder. As highlighted in in the below image add the register.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/clip_image0028.jpg"><img style="display:inline;border:0;" title="clip_image002[8]" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/clip_image0028_thumb.jpg" alt="clip_image002[8]" width="780" height="299" border="0"></a></p>
<p>&nbsp;</p>
<p>And inside the global.asax register all the components of the UnityConfig as shown in below image.</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/clip_image00210.jpg"><img style="display:inline;border:0;" title="clip_image002[10]" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/clip_image00210_thumb.jpg" alt="clip_image002[10]" width="780" height="319" border="0"></a></p>
<p>So far we have added the unity container reference and register the type. Now let us go ahead and refactor the controller class to use the repository class. To start with</p>
<ol>
<li>Create a global variable of the type IBloodDonorRepository</li>
<li>Create controller class constructor with a parameter as shown in below image</li>
</ol>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image8.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb8.png" alt="image" width="624" height="216" border="0"></a></p>
<p>Once this is done we need to refactor the controller class to use functions of repository class instead of the data context class. For example Index method can be refactored as shown below,</p>
<p><a href="https://dhananjay25.files.wordpress.com/2015/04/image9.png"><img style="display:inline;border:0;" title="image" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/image_thumb9.png" alt="image" width="610" height="189" border="0"></a></p>
<p>After refactoring the BloodDonorController class will look like as shown in below listing,</p>
<p>&nbsp;</p>
<div><div id="highlighter_903524" class="syntaxhighlighter  csharp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">System.Linq;</code></div><div class="line number2 index1 alt1"><code class="csharp keyword">using</code> <code class="csharp plain">System.Net;</code></div><div class="line number3 index2 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">System.Web.Mvc;</code></div><div class="line number4 index3 alt1"><code class="csharp keyword">using</code> <code class="csharp plain">LifeLine.Core;</code></div><div class="line number5 index4 alt2"><code class="csharp keyword">using</code> <code class="csharp plain">LifeLine.Core.Interfaces;</code></div><div class="line number6 index5 alt1"><code class="csharp keyword">namespace</code> <code class="csharp plain">LifeLine.Web.Controllers</code></div><div class="line number7 index6 alt2"><code class="csharp plain">{</code></div><div class="line number8 index7 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp keyword">class</code> <code class="csharp plain">BloodDonorsController : Controller</code></div><div class="line number9 index8 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number10 index9 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">IBloodDonorRepository db; </code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">BloodDonorsController(IBloodDonorRepository db)</code></div><div class="line number13 index12 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number14 index13 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">this</code><code class="csharp plain">.db = db;</code></div><div class="line number15 index14 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// GET: BloodDonors</code></div><div class="line number18 index17 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult Index()</code></div><div class="line number19 index18 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number20 index19 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">View(db.GetBloodDonors().ToList());</code></div><div class="line number21 index20 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// GET: BloodDonors/Details/5</code></div><div class="line number24 index23 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult Details(</code><code class="csharp keyword">string</code> <code class="csharp plain">id)</code></div><div class="line number25 index24 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number26 index25 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(id == </code><code class="csharp keyword">null</code><code class="csharp plain">)</code></div><div class="line number27 index26 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number28 index27 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp keyword">new</code> <code class="csharp plain">HttpStatusCodeResult(HttpStatusCode.BadRequest);</code></div><div class="line number29 index28 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number30 index29 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonor bloodDonor = db.FindById(id);</code></div><div class="line number31 index30 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(bloodDonor == </code><code class="csharp keyword">null</code><code class="csharp plain">)</code></div><div class="line number32 index31 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number33 index32 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">HttpNotFound();</code></div><div class="line number34 index33 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number35 index34 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">View(bloodDonor);</code></div><div class="line number36 index35 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// GET: BloodDonors/Create</code></div><div class="line number39 index38 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult Create()</code></div><div class="line number40 index39 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number41 index40 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">View();</code></div><div class="line number42 index41 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// POST: BloodDonors/Create</code></div><div class="line number45 index44 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// To protect from overposting attacks, please enable the specific properties you want to bind to, for</code></div><div class="line number46 index45 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// more details see <a href="http://go.microsoft.com/fwlink/?LinkId=317598.">http://go.microsoft.com/fwlink/?LinkId=317598.</a></code></div><div class="line number47 index46 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[HttpPost]</code></div><div class="line number48 index47 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[ValidateAntiForgeryToken]</code></div><div class="line number49 index48 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult Create([Bind(Include = </code><code class="csharp string">"BloodDonorID,Name,BloodGroup,City,Country,PinCode,PhoneNumber,Email,IsActive,IsPrivate,IsVerified"</code><code class="csharp plain">)] BloodDonor bloodDonor)</code></div><div class="line number50 index49 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number51 index50 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(ModelState.IsValid)</code></div><div class="line number52 index51 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number53 index52 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">db.Add(bloodDonor);</code></div><div class="line number54 index53 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">RedirectToAction(</code><code class="csharp string">"Index"</code><code class="csharp plain">);</code></div><div class="line number55 index54 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number56 index55 alt1">&nbsp;</div><div class="line number57 index56 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">View(bloodDonor);</code></div><div class="line number58 index57 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// GET: BloodDonors/Edit/5</code></div><div class="line number61 index60 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult Edit(</code><code class="csharp keyword">string</code> <code class="csharp plain">id)</code></div><div class="line number62 index61 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number63 index62 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(id == </code><code class="csharp keyword">null</code><code class="csharp plain">)</code></div><div class="line number64 index63 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number65 index64 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp keyword">new</code> <code class="csharp plain">HttpStatusCodeResult(HttpStatusCode.BadRequest);</code></div><div class="line number66 index65 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number67 index66 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonor bloodDonor = db.FindById(id);</code></div><div class="line number68 index67 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(bloodDonor == </code><code class="csharp keyword">null</code><code class="csharp plain">)</code></div><div class="line number69 index68 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number70 index69 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">HttpNotFound();</code></div><div class="line number71 index70 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number72 index71 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">View(bloodDonor);</code></div><div class="line number73 index72 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number74 index73 alt1">&nbsp;</div><div class="line number75 index74 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// POST: BloodDonors/Edit/5</code></div><div class="line number76 index75 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// To protect from overposting attacks, please enable the specific properties you want to bind to, for</code></div><div class="line number77 index76 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// more details see <a href="http://go.microsoft.com/fwlink/?LinkId=317598.">http://go.microsoft.com/fwlink/?LinkId=317598.</a></code></div><div class="line number78 index77 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[HttpPost]</code></div><div class="line number79 index78 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[ValidateAntiForgeryToken]</code></div><div class="line number80 index79 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult Edit([Bind(Include = </code><code class="csharp string">"BloodDonorID,Name,BloodGroup,City,Country,PinCode,PhoneNumber,Email,IsActive,IsPrivate,IsVerified"</code><code class="csharp plain">)] BloodDonor bloodDonor)</code></div><div class="line number81 index80 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number82 index81 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(ModelState.IsValid)</code></div><div class="line number83 index82 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number84 index83 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">db.Edit(bloodDonor);</code></div><div class="line number85 index84 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">RedirectToAction(</code><code class="csharp string">"Index"</code><code class="csharp plain">);</code></div><div class="line number86 index85 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number87 index86 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">View(bloodDonor);</code></div><div class="line number88 index87 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number89 index88 alt2">&nbsp;</div><div class="line number90 index89 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// GET: BloodDonors/Delete/5</code></div><div class="line number91 index90 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult Delete(</code><code class="csharp keyword">string</code> <code class="csharp plain">id)</code></div><div class="line number92 index91 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number93 index92 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(id == </code><code class="csharp keyword">null</code><code class="csharp plain">)</code></div><div class="line number94 index93 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number95 index94 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp keyword">new</code> <code class="csharp plain">HttpStatusCodeResult(HttpStatusCode.BadRequest);</code></div><div class="line number96 index95 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number97 index96 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonor bloodDonor = db.FindById(id);</code></div><div class="line number98 index97 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">if</code> <code class="csharp plain">(bloodDonor == </code><code class="csharp keyword">null</code><code class="csharp plain">)</code></div><div class="line number99 index98 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number100 index99 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">HttpNotFound();</code></div><div class="line number101 index100 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number102 index101 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">View(bloodDonor);</code></div><div class="line number103 index102 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number104 index103 alt1">&nbsp;</div><div class="line number105 index104 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp comments">// POST: BloodDonors/Delete/5</code></div><div class="line number106 index105 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[HttpPost, ActionName(</code><code class="csharp string">"Delete"</code><code class="csharp plain">)]</code></div><div class="line number107 index106 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">[ValidateAntiForgeryToken]</code></div><div class="line number108 index107 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">public</code> <code class="csharp plain">ActionResult DeleteConfirmed(</code><code class="csharp keyword">string</code> <code class="csharp plain">id)</code></div><div class="line number109 index108 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">{</code></div><div class="line number110 index109 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">BloodDonor bloodDonor = db.FindById(id);</code></div><div class="line number111 index110 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">db.Remove(bloodDonor.BloodDonorID);</code></div><div class="line number112 index111 alt1"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp keyword">return</code> <code class="csharp plain">RedirectToAction(</code><code class="csharp string">"Index"</code><code class="csharp plain">);</code></div><div class="line number113 index112 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number114 index113 alt1">&nbsp;</div><div class="line number115 index114 alt2"><code class="csharp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="csharp plain">}</code></div><div class="line number116 index115 alt1"><code class="csharp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<h4>Conclusion</h4>
<p>This is it. These are the steps we need to follow to create a MVC application following to onion architecture.</p>
<p><a href="https://github.com/debugmodedotnet/onionarchitecturemvc">Source Code on the GitHub</a></p>
<p>Have something to add? Please add in the comment section.</p>
			<style type="text/css">
				div.wpmrec2x{max-width:610px;}
				div.wpmrec2x div.u > div{float:left;margin-right:10px;}
				div.wpmrec2x div.u > div:nth-child(3n){margin-right:0px;}
			</style>		<div class="wpcnt">
			<div class="wpa wpmrec wpmrec2x" style="display: inline-block !important;">
				<span class="wpa-about">Advertisements</span>
				<div class="u">
										<script type="text/javascript" id="s105387571">
						(function(g,$){if("undefined"!=typeof g.__ATA){
							g.__ATA.initAd({collapseEmpty:'after', sectionId:105387571, width:300, height:250});
							g.__ATA.initAd({collapseEmpty:'after', sectionId:105387574, width:300, height:250});
						}})(window,jQuery);
					</script><div id="adtags-1" style="width:300px;height:250px;"><iframe frameborder="0" scrolling="no" width="300" height="250" style="border:none;overflow:hidden;width:300px;height:250px;" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource.html"></iframe></div><div id="adtags-2" style="width:300px;height:250px;"><iframe frameborder="0" scrolling="no" width="300" height="250" style="border:none;overflow:hidden;width:300px;height:250px;" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource(9).html"></iframe></div>
				</div>
						<div id="crt-1043012220" style="width: 300px; height: 250px; display: none !important;"></div>
		<script type="text/javascript">
		var o = document.getElementById('crt-1043012220');
		if ("undefined"!=typeof Criteo) {
			var p = o.parentNode;
			p.style.setProperty('display', 'inline-block', 'important');
			o.style.setProperty('display', 'block', 'important');
			Criteo.DisplayAcceptableAdIfAdblocked({zoneid:388248,containerid:"crt-1043012220",collapseContainerIfNotAdblocked:true,"callifnotadblocked": function () {var o = document.getElementById('crt-1043012220'); o.style.setProperty('display','none','important');o.style.setProperty('visbility','hidden','important'); } });
		} else {
			o.style.setProperty('display', 'none', 'important');
			o.style.setProperty('visibility', 'hidden', 'important');
		}
		</script>		<div id="crt-1218196041" style="width: 300px; height: 250px; display: none !important;"></div>
		<script type="text/javascript">
		var o = document.getElementById('crt-1218196041');
		if ("undefined"!=typeof Criteo) {
			var p = o.parentNode;
			p.style.setProperty('display', 'inline-block', 'important');
			o.style.setProperty('display', 'block', 'important');
			Criteo.DisplayAcceptableAdIfAdblocked({zoneid:837497,containerid:"crt-1218196041",collapseContainerIfNotAdblocked:true,"callifnotadblocked": function () {var o = document.getElementById('crt-1218196041'); o.style.setProperty('display','none','important');o.style.setProperty('visbility','hidden','important'); } });
		} else {
			o.style.setProperty('display', 'none', 'important');
			o.style.setProperty('visibility', 'hidden', 'important');
		}
		</script>
			</div>
		</div><script type="text/javascript"><!-- (function(g){g.__ATA.initVideoAd({format: 'inread', sectionId:});})(window); //--></script><div id="jp-post-flair" class="sharedaddy sd-rating-enabled sd-like-enabled sd-sharing-enabled"><div class="sd-block sd-rating"><h3 class="sd-title">Rate this:</h3><div class="pd-rating" id="pd_rating_holder_7545118_post_14903" style="display: inline-block;"><div class="rating-icons" id="pd_rate_7545118_post_14903" style="float:left;"><div class="rating-star-icon" onmouseout="PDRTJS_7545118_post_14903.rebuild();" onclick="PDRTJS_7545118_post_14903.rate(1);" onmouseover="PDRTJS_7545118_post_14903.hover(1);" id="PDRTJS_7545118_post_14903_stars_1" style="background-size: 32px 48px !important; cursor: pointer; width: 16px; height: 16px; line-height: 16px; background: url(https://polldaddy.com/images/ratings/star-yellow-sml.png) top left; float: left; padding: 0px; margin: 0px; margin-right: 1px;">&nbsp;</div><div class="rating-star-icon" onmouseout="PDRTJS_7545118_post_14903.rebuild();" onclick="PDRTJS_7545118_post_14903.rate(2);" onmouseover="PDRTJS_7545118_post_14903.hover(2);" id="PDRTJS_7545118_post_14903_stars_2" style="background-size: 32px 48px !important; cursor: pointer; width: 16px; height: 16px; line-height: 16px; background: url(https://polldaddy.com/images/ratings/star-yellow-sml.png) top left; float: left; padding: 0px; margin: 0px; margin-right: 1px;">&nbsp;</div><div class="rating-star-icon" onmouseout="PDRTJS_7545118_post_14903.rebuild();" onclick="PDRTJS_7545118_post_14903.rate(3);" onmouseover="PDRTJS_7545118_post_14903.hover(3);" id="PDRTJS_7545118_post_14903_stars_3" style="background-size: 32px 48px !important; cursor: pointer; width: 16px; height: 16px; line-height: 16px; background: url(https://polldaddy.com/images/ratings/star-yellow-sml.png) top left; float: left; padding: 0px; margin: 0px; margin-right: 1px;">&nbsp;</div><div class="rating-star-icon" onmouseout="PDRTJS_7545118_post_14903.rebuild();" onclick="PDRTJS_7545118_post_14903.rate(4);" onmouseover="PDRTJS_7545118_post_14903.hover(4);" id="PDRTJS_7545118_post_14903_stars_4" style="background-size: 32px 48px !important; cursor: pointer; width: 16px; height: 16px; line-height: 16px; background: url(https://polldaddy.com/images/ratings/star-yellow-sml.png) top left; float: left; padding: 0px; margin: 0px; margin-right: 1px;">&nbsp;</div><div class="rating-star-icon" onmouseout="PDRTJS_7545118_post_14903.rebuild();" onclick="PDRTJS_7545118_post_14903.rate(5);" onmouseover="PDRTJS_7545118_post_14903.hover(5);" id="PDRTJS_7545118_post_14903_stars_5" style="background-size: 32px 48px !important; cursor: pointer; width: 16px; height: 16px; line-height: 16px; background: url(https://polldaddy.com/images/ratings/star-yellow-sml.png) center left; float: left; padding: 0px; margin: 0px; margin-right: 1px;">&nbsp;</div></div><span style="float:left;">&nbsp;</span><div id="rating_info_7545118_post_14903" style="display:block;float:left;background:url(https://polldaddy.com/images/ratings/info.png) no-repeat 3px 2px;width:16px;height:16px;cursor:pointer; null " onclick="javascript:PDRTJS_7545118_post_14903.togglePopup();return false;"><span style="display:none;">i</span></div><div class="pd_popup_holder" id="pd_popup_holder_7545118_post_14903">&nbsp;</div><div class="rating-msg" id="PDRTJS_7545118_post_14903_msg" style="float:left; padding-left: 5px; text-align: left; font:normal normal /16px ; color: #;">13 Votes</div><p style="padding: 0px; margin: 0px; clear: both;"></p></div></div><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-email share-service-visible"><a rel="nofollow" data-shared="" class="share-email sd-button share-icon" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/?share=email&amp;nb=1" target="_blank" title="Click to email"><span>Email</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-14903" class="share-linkedin sd-button share-icon" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/?share=linkedin&amp;nb=1" target="_blank" title="Click to share on LinkedIn"><span>LinkedIn<span class="share-count">51</span></span></a></li><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-14903" class="share-twitter sd-button share-icon" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/?share=twitter&amp;nb=1" target="_blank" title="Click to share on Twitter"><span>Twitter</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-14903" class="share-google-plus-1 sd-button share-icon" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/?share=google-plus-1&amp;nb=1" target="_blank" title="Click to share on Google+"><span>Google</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-14903" class="share-facebook sd-button share-icon" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/?share=facebook&amp;nb=1" target="_blank" title="Share on Facebook"><span>Facebook<span class="share-count">179</span></span></a></li><li class="share-print"><a rel="nofollow" data-shared="" class="share-print sd-button share-icon" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#print" target="_blank" title="Click to print"><span>Print</span></a></li><li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/?share=reddit&amp;nb=1" target="_blank" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-end"></li></ul></div></div></div>
<div id="jp-relatedposts" class="jp-relatedposts" style="display: block;">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
<div class="jp-relatedposts-items jp-relatedposts-items-minimal"><p class="jp-relatedposts-post jp-relatedposts-post0" data-post-id="14320" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://debugmode.net/2014/09/12/refactoring-the-asp-net-mvc-application-to-the-onion-architecture/" title="Refactoring the ASP.NET MVC Application to the Onion Architecture

We have refactored the application adhering to the onion architecture. Domain objects like Movie is at the center of the architecture and are the part of internal layers. The Infrastructure project in which we are working with database and database logics are part of the external layers. They depend on…" rel="nofollow" data-origin="14903" data-position="0">Refactoring the ASP.NET MVC Application to the Onion Architecture</a></span><span class="jp-relatedposts-post-context">In "MVC"</span></p><p class="jp-relatedposts-post jp-relatedposts-post1" data-post-id="14308" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://debugmode.net/2014/09/10/no-connection-string-named-could-be-found-in-the-asp-net-mvc-application-config-file-solved/" title="No connection string named &#39;&#39; could be found in the ASP.NET MVC application config file: Solved

While working on an ASP.NET MVC application I encountered the following error. It clearly says that some connection string is missing in the configuration file. Well I have refactored the application following the onion architecture and there is nothing related to database exist in the MVC project. Project structure looks…" rel="nofollow" data-origin="14903" data-position="1">No connection string named '' could be found in the ASP.NET MVC application config file: Solved</a></span><span class="jp-relatedposts-post-context">In "MVC"</span></p><p class="jp-relatedposts-post jp-relatedposts-post2" data-post-id="14372" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://debugmode.net/2014/09/18/walkthrough-login-with-twitter-account-in-asp-net-mvc-5-app-using-asp-net-identity-2-0/" title="Walkthrough: Login with Twitter Account in ASP.NET MVC 5 APP using ASP.NET Identity 2.0

Walkthrough: Login with Twitter Account in ASP.NET MVC 5 APP using ASP.NET Identity 2.0" rel="nofollow" data-origin="14903" data-position="2">Walkthrough: Login with Twitter Account in ASP.NET MVC 5 APP using ASP.NET Identity 2.0</a></span><span class="jp-relatedposts-post-context">In "MVC"</span></p></div></div></div>		</div><!-- .entry-content -->

			<footer class="entry-footer">
		<span class="tags-links">Tagged <a href="https://debugmode.net/tag/asp-net-mvc/" rel="tag">ASP.NET MVC</a>, <a href="https://debugmode.net/tag/mvc/" rel="tag">MVC</a>, <a href="https://debugmode.net/tag/onion-architecture/" rel="tag">ONION ARCHITECTURE</a></span>	</footer><!-- .entry-footer -->
			<div class="entry-author author-avatar-show">
				<div class="author-avatar">
					</div><!-- .author-avatar -->
		
		<div class="author-heading">
			<h2 class="author-title">Published by <span class="author-name">Dhananjay Kumar</span></h2>
		</div><!-- .author-heading -->

		<p class="author-bio">
			Dhananjay Kumar is Developer Evangelist for Infragistics. He is a 8 times Microsoft MVP and well respected Developer Advocate in India.He is the author of 900+ Blog Posts, and can often be found speaking around India at conferences and hosting free workshops for programmers across the country. So far, he has hosted 60 free workshops on various topics like JavaScript, Angular, WCF, ASP.NET MVC, C#, Azure etc.

Follow him on twitter @debug_mode for all the updates about his blog posts and workshops. You can send him email at debugmode [at] outlook [dot] com			<a class="author-link" href="https://debugmode.net/author/dhananjay25/" rel="author">
				View all posts by Dhananjay Kumar			</a>
		</p><!-- .author-bio -->
	</div><!-- .entry-auhtor -->
	</div> <!-- .entry-body -->
</article><!-- #post-## -->

<div id="comments" class="comments-area">

			<h2 class="comments-title">
			20 thoughts on “<span>Step by Step implementing Onion architecture in ASP.NET MVC Application</span>”		</h2>

		
		<ol class="comment-list">
					<li id="comment-43720" class="comment even thread-even depth-1 highlander-comment">
			<article id="div-comment-43720" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn"><a href="http://gaurav-arora.com/" rel="external nofollow" class="url">Gaurav Kumar Arora</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-43720">
							<time datetime="2015-04-17T12:00:17+00:00">
								April 17, 2015 at 12:00 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Dhananjay – Nice explanation and good overview. I have few suggestion and you would like to add / update your article. While you’re saying it first coined in 2008 – you’d tell how it get called Onion Architecture as its somehow overtermed as Haxagonal Architecture. In our project (before asp.net mvc) we implemented the same. But in these days – we prefer to use Onion Architecture with Domain Driven Design (DDD). Also, rather using repository pattern. Do you think we should use Command Query (CQRS) as its worthless to make an extra layer only to interact with DB operations.</p>
<p>I would be happy to read your views. Also, if possible lets sit together sometime, I would love to discuss these things.</p>
<p>One more things – you’re doing great things, keep it up!</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-43803" class="comment odd alt thread-odd thread-alt depth-1 highlander-comment">
			<article id="div-comment-43803" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn">bradymcewen</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-43803">
							<time datetime="2015-04-18T22:45:16+00:00">
								April 18, 2015 at 10:45 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>This is great if all you want to do is bring your database to the UI. What do you propose if you actually have a real world MVC application with view models and business logic? A fat controller? Or would you propose another layer?</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-43876" class="pingback even thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="http://blog.cwa.me.uk/2015/04/20/the-morning-brew-1843/" rel="external nofollow" class="url">The Morning Brew - Chris Alcock » The Morning Brew #1843</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-43900" class="comment byuser comment-author-dotnetchris odd alt thread-odd thread-alt depth-1 highlander-comment">
			<article id="div-comment-43900" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn"><a href="http://www.marisic.net/" rel="external nofollow" class="url">dotnetchris</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-43900">
							<time datetime="2015-04-20T21:36:00+00:00">
								April 20, 2015 at 9:36 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Let me propose a way to make this simpler. Ditch IBloodDonorRepository. Just make the repository methods virtual and you can overwrite them in tests. Now your IOC container needs no special information and it can just new things up instead of burying magic mapping in the container.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-43901" class="comment byuser comment-author-dotnetchris even thread-even depth-1 highlander-comment">
			<article id="div-comment-43901" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn"><a href="http://www.marisic.net/" rel="external nofollow" class="url">dotnetchris</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-43901">
							<time datetime="2015-04-20T21:41:00+00:00">
								April 20, 2015 at 9:41 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>@bradymcewen a well designed application is broken down between the follow 3 core components: “managers”, “engines”, and “resource access”. Managers sequence business logic and call engines and/or RAs. Engines execute things, like transform objects, aggregate data in memory and may call RAs. RAs encapsulate all logic for dealing with a database, remote web service, file system. These components should never call up or side ways. A manager should not call another manager. An Engine should not call a Manager and so forth.</p>
<p>MVC controllers should be a thin route driver. It should pass the data off the wire to the Manager. The only reasonable logic to have in a controller is plucking data out of the http objects like cookies, querystrings etc (and the inverse, putting data in these http only constructs).</p>
<p>You can also choose whatever other words instead of   “managers”, “engines”, and “resource access” if you don’t like these terms. Engines and RAs should be highly reusable. If they are not reusable you have a brittle application that is likely the <a href="https://sourcemaking.com/antipatterns/stovepipe-system" rel="nofollow">https://sourcemaking.com/antipatterns/stovepipe-system</a> similar if you allow sideways and upwards calls in your architecture YOU DEFINITELY have a stove pipe system.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-44236" class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="http://frenchcoding.com/2015/04/27/les-liens-de-la-semaine-edition-129/" rel="external nofollow" class="url">Les liens de la semaine – Édition #129 | French Coding</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-48724" class="pingback even thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="https://shawnjlee.wordpress.com/2015/09/17/super-template-onion-architecture/" rel="external nofollow" class="url">Super Template – Onion Architecture | Shawn J Lee</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-49424" class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="https://mackemdevver.wordpress.com/2015/10/12/bandmates-part-2-another-social-networking-site-using-web-api-and-angularjs/" rel="external nofollow" class="url">BandMates (Part 2): Another social networking site, using Web Api and AngularJS | Dev Blog</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-49498" class="comment even thread-even depth-1 highlander-comment">
			<article id="div-comment-49498" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn">John</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-49498">
							<time datetime="2015-10-15T21:37:00+00:00">
								October 15, 2015 at 9:37 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>This tutorial is awesome. However where would business logic go? I would like my UI layer to only talk to my business class interfaces. Would this be possible with this design?</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-49499" class="comment odd alt thread-odd thread-alt depth-1 highlander-comment">
			<article id="div-comment-49499" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn">John</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-49499">
							<time datetime="2015-10-15T21:42:59+00:00">
								October 15, 2015 at 9:42 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Additionally, is this post very similar to yours? <a href="http://www.c-sharpcorner.com/UploadFile/0ef46a/onion-architecture-in-mvc-applications/" rel="nofollow">http://www.c-sharpcorner.com/UploadFile/0ef46a/onion-architecture-in-mvc-applications/</a></p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-51269" class="pingback even thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="http://damienbod.com/2016/01/07/experiments-with-entity-framework-7-and-asp-net-5-mvc-6/" rel="external nofollow" class="url">Experiments with Entity Framework 7 and ASP.NET 5 MVC 6 | Software Engineering</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-51944" class="comment odd alt thread-odd thread-alt depth-1 highlander-comment">
			<article id="div-comment-51944" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn">Avinash</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-51944">
							<time datetime="2016-02-24T18:29:12+00:00">
								February 24, 2016 at 6:29 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I am following the steps given by you but I am not able to get Model and DataContext class while adding Controller even though I have given the references of Core and infrastructure. I am using Visual Studio 13 and EF 6.1, if this has something to do with it. Thanks for the post</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-52100" class="pingback even thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="http://great.architecturefan.eu/architecture-web-application-asp-net/" rel="external nofollow" class="url">Architecture Web Application Asp Net | Great Architecture Fan</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-52142" class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="http://great.architecturefan.eu/architecture-of-asp-net-web-application/" rel="external nofollow" class="url">Architecture Of Asp.net Web Application | Great Architecture Fan</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-52627" class="comment even thread-even depth-1 highlander-comment">
			<article id="div-comment-52627" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn">sachin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-52627">
							<time datetime="2016-04-20T12:39:04+00:00">
								April 20, 2016 at 12:39 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>where i can get information about other architecture like onion architecture , so i can decide which architecture to use depend on requirement</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-52922" class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="http://become.architecturefan.eu/architecture-application-web-asp-net/" rel="external nofollow" class="url">Architecture Application Web Asp.net | Become Architecture Fan</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-52948" class="pingback even thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href="http://architecturefan.eu/application-architecture-with-mvc/" rel="external nofollow" class="url">Application Architecture With Mvc | Architecture Fan</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-53761" class="comment odd alt thread-odd thread-alt depth-1 highlander-comment">
			<article id="div-comment-53761" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn">Axel Justin Davis</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-53761">
							<time datetime="2016-08-15T00:14:33+00:00">
								August 15, 2016 at 12:14 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Where can I put the WebApi project (Core, infrastructure, UI)?</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-54912" class="comment even thread-even depth-1 highlander-comment">
			<article id="div-comment-54912" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn">prashanth</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-54912">
							<time datetime="2016-10-04T13:47:16+00:00">
								October 4, 2016 at 1:47 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>can you provide video for this document</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-55980" class="comment odd alt thread-odd thread-alt depth-1 highlander-comment">
			<article id="div-comment-55980" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
												<b class="fn"><a href="https://github.com/NazmiAltun/" rel="external nofollow" class="url">Nazmi Altun</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-55980">
							<time datetime="2016-12-22T12:54:04+00:00">
								December 22, 2016 at 12:54 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Hi.<br>
I am sorry but  your  code sample shows  how  not to implement onion architecture. Here are some tips for you to fix your faulty design ;</p>
<p>1. Do not use attributes on your domain entities : Attributes are anti-pattern , Entity Framework already provides fluent API  for data mapping. Use it , so that you do not violate  Seperation of Concerns princile.<br>
2. Better keep  your repository  interface  in another project rather than keeping it in the project where your entities  are kept.<br>
3. Keeping BloodDonorRepository class in your Inftrastructure layer is wrong. Infrastructure layer shall not contain any Business Logic.<br>
4. Don’t use Repository pattern. If you really need to use, make it generic. Also your respository class shall have dependency on an interface to DbContext ,  not DbContext itself.<br>
5. Your unit tests are pointless. You are inserting data into a database and testing if inserted? In your unit tests, you shall test your business logic. And you shall also dispose DbContext in your tests</p>
<p>And there are many things need to be fixed in your design. Here is an example  of onion architecture : <a href="https://github.com/NazmiAltun/asadmin" rel="nofollow">https://github.com/NazmiAltun/asadmin</a><br>
Regards,</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		</ol>
			<div id="respond" class="comment-respond js">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://debugmode.net/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate="">
				<input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="1c12f72e35"><input type="hidden" name="_wp_http_referer" value="/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/">
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest">

<div class="comment-form-field comment-textarea">
	
	<div id="comment-form-comment"><textarea tabindex="-1" style="position: absolute; top: -999px; left: 0px; right: auto; bottom: auto; border: 0px; padding: 0px; box-sizing: content-box; word-wrap: break-word; overflow: hidden; transition: none; height: 0px !important; min-height: 0px !important; font-family: Arial, Helvetica, Tahoma, Verdana, sans-serif; font-size: 14px; font-weight: 400; font-style: normal; letter-spacing: 0px; text-transform: none; text-decoration: none solid rgba(0, 0, 0, 0.7); word-spacing: 0px; text-indent: 0px; line-height: 26.25px; width: 690.813px;" class="autosizejs "></textarea><textarea id="comment" name="comment" title="Enter your comment here..." placeholder="Enter your comment here..." style="height: 46px; overflow: hidden; word-wrap: break-word; resize: none;"></textarea></div>
</div>

<div id="comment-form-identity" style="display: none;">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
			<li>
		</li></ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/" alt="Gravatar" width="25" class="no-grav">
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value=""></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value=""></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="url" value=""></div>
				</div>
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/" alt="WordPress.com Logo" width="25" class="no-grav">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="">
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="">
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="">
				<p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( &#39;wordpress&#39; );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/" alt="Twitter picture" width="25" class="no-grav">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="">
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="">
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="">
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( &#39;twitter&#39; );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/" alt="Facebook photo" width="25" class="no-grav">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="">
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="">
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="">
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( &#39;facebook&#39; );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/" alt="Google+ photo" width="25" class="no-grav">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="">
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="">
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="">
				<p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( &#39;googleplus&#39; );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe" style="display: none;">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog" style="display: inline;">Notify me of new posts via email.</label></p></div>

<style type="text/css">
#respond .comment-form-avatar { display: none !important; }
#respond .comment-form-fields { margin-left: 0 !important; }
</style>




<p class="form-submit" style="display: none;"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="14903" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="46ac77143a"></p>
<input type="hidden" name="genseq" value="1510228756">
<p style="display: none;"></p>			<input type="hidden" id="ak_js" name="ak_js" value="1510228752676"></form>
			</div><!-- #respond -->
	<div style="clear: both"></div>
</div><!-- #comments -->

	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://debugmode.net/2015/04/17/11-things-about-javascript-functions-that-net-developers-should-know-part-2/" rel="prev">11 things about JavaScript functions that .NET developers should know: Part 2</a></div><div class="nav-next"><a href="https://debugmode.net/2015/05/05/resources-from-workshop-on-onion-architecture-in-asp-net-mvc/" rel="next">Resources from workshop on Onion Architecture in ASP.NET MVC</a></div></div>
	</nav>
		</main>
	</div>

<aside id="secondary" class="widget-area" role="complementary">
	<section id="search-7" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://debugmode.net/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search …" value="" name="s" title="Search for:">
		<span class="search-form-icon"></span>
	</label>
	<input type="submit" class="search-submit" value="Search">
</form>
</section><section id="text-18" class="widget widget_text">			<div class="textwidget"><p><a href="http://www.infragistics.com/products/jquery?utm_source=debugmode.net&amp;utm_medium=Banner&amp;utm_content=jquery&amp;utm_campaign=Leftsidebar%20debugmode" target="_blank"><img src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/imgad.jpg" width="350" height="150"></a>
</p>
<p><a href="http://www.infragistics.com/products/jquery?utm_source=debugmode.net&amp;utm_medium=Banner&amp;utm_content=jquery&amp;utm_campaign=Leftsidebar%20debugmode" target="_blank">jQuery Grid Controls </a></p></div>
		</section>		<section id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">Recent  Posts</h2>		<ul>
											<li>
					<a href="https://debugmode.net/2017/11/09/how-to-write-your-first-net-core-2-0-application/">How to Write Your First .NET Core 2.0 Application</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/09/19/what-are-getters-and-setters-in-javascript/">What are getters and setters in JavaScript</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/09/19/javascript-object-property-descriptors/">JavaScript Object Property Descriptors</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/09/19/simplifying-content-projection-in-angular/">Simplifying Content Projection in Angular</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/09/19/arrow-functions-in-javascript/">Arrow functions in JavaScript</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/09/19/simplifying-function-hoisting-in-javascript/">Simplifying function hoisting in JavaScript</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/09/19/what-is-the-arguments-object-in-a-javascript-function/">What is the arguments object in a JavaScript function?</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/09/19/easy-javascript-part-3-what-is-a-default-parameter-in-a-function/">What is a Default Parameter in a JavaScript function?</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/08/02/what-is-the-rest-parameter-in-a-function/">What is the Rest Parameter in a Function?</a>
									</li>
											<li>
					<a href="https://debugmode.net/2017/07/19/what-is-let-statement-in-javascript/">What is “let” statement in JavaScript?</a>
									</li>
					</ul>
		</section><section id="text-7" class="widget widget_text">			<div class="textwidget"><a href="https://mvp.microsoft.com/en-us/mvp/Dhananjay%20Kumar-4028360" target="_blank">
<img src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/mvp_logo.png" width="180" height="100">
</a>
</div>
		</section><section id="blog_subscription-3" class="widget widget_blog_subscription"><h2 class="widget-title"><label for="subscribe-field">Subscribe here </label></h2>
				<form action="https://subscribe.wordpress.com/" method="post" accept-charset="utf-8" id="subscribe-blog">
											<p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
						<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe">
						<input type="hidden" name="blog_id" value="10538757">
						<input type="hidden" name="source" value="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/">
						<input type="hidden" name="sub-type" value="widget">
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3">
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="1a51aac1e1">						<input type="submit" value="Sign me up!">
					</p>
				</form>
			
</section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">Categories</h2>		<ul>
	<li class="cat-item cat-item-78430297"><a href="https://debugmode.net/category/algorithm-n-c/">Algorithm n C</a> (2)
</li>
	<li class="cat-item cat-item-463744"><a href="https://debugmode.net/category/angular/">angular</a> (29)
</li>
	<li class="cat-item cat-item-2290"><a href="https://debugmode.net/category/architecture/">Architecture</a> (1)
</li>
	<li class="cat-item cat-item-335778"><a href="https://debugmode.net/category/azure/">AZURE</a> (105)
</li>
	<li class="cat-item cat-item-2528"><a href="https://debugmode.net/category/community/">Community</a> (83)
</li>
	<li class="cat-item cat-item-20740"><a href="https://debugmode.net/category/csharp/" title="C#3.0">CSharp</a> (46)
</li>
	<li class="cat-item cat-item-169"><a href="https://debugmode.net/category/css/">CSS</a> (5)
</li>
	<li class="cat-item cat-item-22379"><a href="https://debugmode.net/category/data/">Data</a> (3)
</li>
	<li class="cat-item cat-item-302885578"><a href="https://debugmode.net/category/dotnetcore/">dotnetcore</a> (1)
</li>
	<li class="cat-item cat-item-4230"><a href="https://debugmode.net/category/download/">Download</a> (25)
</li>
	<li class="cat-item cat-item-34939378"><a href="https://debugmode.net/category/javascript-2/">JavaScript</a> (74)
</li>
	<li class="cat-item cat-item-747196"><a href="https://debugmode.net/category/knockout/">Knockout</a> (8)
</li>
	<li class="cat-item cat-item-114227"><a href="https://debugmode.net/category/linq/" title="LINQ">LINQ</a> (49)
</li>
	<li class="cat-item cat-item-875"><a href="https://debugmode.net/category/miscellaneous/" title="General">Miscellaneous</a> (82)
</li>
	<li class="cat-item cat-item-36699"><a href="https://debugmode.net/category/mvc/" title="ASP.Net MVC">MVC</a> (54)
</li>
	<li class="cat-item cat-item-1211379"><a href="https://debugmode.net/category/node/">Node</a> (16)
</li>
	<li class="cat-item cat-item-22319505"><a href="https://debugmode.net/category/nosql/">noSQL</a> (2)
</li>
	<li class="cat-item cat-item-10799346"><a href="https://debugmode.net/category/phonegap/">PhoneGap</a> (7)
</li>
	<li class="cat-item cat-item-23215345"><a href="https://debugmode.net/category/rest-services/" title="REST Services">REST Services</a> (32)
</li>
	<li class="cat-item cat-item-37382"><a href="https://debugmode.net/category/sharepoint/" title="SharePoint 2007">SharePoint</a> (40)
</li>
	<li class="cat-item cat-item-52562395"><a href="https://debugmode.net/category/silververlight/" title="All articles of Silver Light 3.0">Silververlight</a> (58)
</li>
	<li class="cat-item cat-item-6407"><a href="https://debugmode.net/category/sql-server/">SQL Server</a> (9)
</li>
	<li class="cat-item cat-item-12"><a href="https://debugmode.net/category/testing/">Testing</a> (6)
</li>
	<li class="cat-item cat-item-412"><a href="https://debugmode.net/category/video/">Video</a> (59)
</li>
	<li class="cat-item cat-item-46648"><a href="https://debugmode.net/category/wcf/" title="WCF articles">WCF</a> (117)
</li>
	<li class="cat-item cat-item-36654399"><a href="https://debugmode.net/category/wcf-data-service/">WCF Data Service</a> (26)
</li>
	<li class="cat-item cat-item-151"><a href="https://debugmode.net/category/web/" title="Web Technologies ">Web</a> (23)
</li>
	<li class="cat-item cat-item-33736401"><a href="https://debugmode.net/category/windows-phone-dev/">Windows Phone Dev</a> (112)
</li>
	<li class="cat-item cat-item-90838161"><a href="https://debugmode.net/category/windows-store-apps/">Windows Store Apps</a> (32)
</li>
	<li class="cat-item cat-item-46652"><a href="https://debugmode.net/category/wpf/">WPF</a> (3)
</li>
	<li class="cat-item cat-item-57199675"><a href="https://debugmode.net/category/xamarin/">Xamarin</a> (1)
</li>
		</ul>
</section><section id="archives-5" class="widget widget_archive"><h2 class="widget-title">Archives</h2>		<ul>
			<li><a href="https://debugmode.net/2017/11/">November 2017</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2017/09/">September 2017</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2017/08/">August 2017</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2017/07/">July 2017</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2017/06/">June 2017</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2017/04/">April 2017</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2017/03/">March 2017</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2017/02/">February 2017</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2017/01/">January 2017</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2016/12/">December 2016</a>&nbsp;(5)</li>
	<li><a href="https://debugmode.net/2016/11/">November 2016</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2016/10/">October 2016</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2016/09/">September 2016</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2016/08/">August 2016</a>&nbsp;(3)</li>
	<li><a href="https://debugmode.net/2016/07/">July 2016</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2016/05/">May 2016</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2016/04/">April 2016</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2016/03/">March 2016</a>&nbsp;(3)</li>
	<li><a href="https://debugmode.net/2016/02/">February 2016</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2016/01/">January 2016</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2015/12/">December 2015</a>&nbsp;(3)</li>
	<li><a href="https://debugmode.net/2015/11/">November 2015</a>&nbsp;(5)</li>
	<li><a href="https://debugmode.net/2015/10/">October 2015</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2015/09/">September 2015</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2015/08/">August 2015</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2015/07/">July 2015</a>&nbsp;(10)</li>
	<li><a href="https://debugmode.net/2015/06/">June 2015</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2015/05/">May 2015</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2015/04/">April 2015</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2015/03/">March 2015</a>&nbsp;(3)</li>
	<li><a href="https://debugmode.net/2015/02/">February 2015</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2015/01/">January 2015</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2014/12/">December 2014</a>&nbsp;(13)</li>
	<li><a href="https://debugmode.net/2014/11/">November 2014</a>&nbsp;(8)</li>
	<li><a href="https://debugmode.net/2014/10/">October 2014</a>&nbsp;(12)</li>
	<li><a href="https://debugmode.net/2014/09/">September 2014</a>&nbsp;(14)</li>
	<li><a href="https://debugmode.net/2014/08/">August 2014</a>&nbsp;(13)</li>
	<li><a href="https://debugmode.net/2014/07/">July 2014</a>&nbsp;(5)</li>
	<li><a href="https://debugmode.net/2014/06/">June 2014</a>&nbsp;(5)</li>
	<li><a href="https://debugmode.net/2014/05/">May 2014</a>&nbsp;(5)</li>
	<li><a href="https://debugmode.net/2014/04/">April 2014</a>&nbsp;(2)</li>
	<li><a href="https://debugmode.net/2014/03/">March 2014</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2014/02/">February 2014</a>&nbsp;(1)</li>
	<li><a href="https://debugmode.net/2014/01/">January 2014</a>&nbsp;(23)</li>
	<li><a href="https://debugmode.net/2013/12/">December 2013</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2013/11/">November 2013</a>&nbsp;(11)</li>
	<li><a href="https://debugmode.net/2013/10/">October 2013</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2013/09/">September 2013</a>&nbsp;(9)</li>
	<li><a href="https://debugmode.net/2013/08/">August 2013</a>&nbsp;(3)</li>
	<li><a href="https://debugmode.net/2013/07/">July 2013</a>&nbsp;(17)</li>
	<li><a href="https://debugmode.net/2013/06/">June 2013</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2013/05/">May 2013</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2013/04/">April 2013</a>&nbsp;(17)</li>
	<li><a href="https://debugmode.net/2013/03/">March 2013</a>&nbsp;(10)</li>
	<li><a href="https://debugmode.net/2013/02/">February 2013</a>&nbsp;(11)</li>
	<li><a href="https://debugmode.net/2013/01/">January 2013</a>&nbsp;(6)</li>
	<li><a href="https://debugmode.net/2012/12/">December 2012</a>&nbsp;(6)</li>
	<li><a href="https://debugmode.net/2012/11/">November 2012</a>&nbsp;(8)</li>
	<li><a href="https://debugmode.net/2012/10/">October 2012</a>&nbsp;(8)</li>
	<li><a href="https://debugmode.net/2012/09/">September 2012</a>&nbsp;(9)</li>
	<li><a href="https://debugmode.net/2012/08/">August 2012</a>&nbsp;(6)</li>
	<li><a href="https://debugmode.net/2012/07/">July 2012</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2012/06/">June 2012</a>&nbsp;(10)</li>
	<li><a href="https://debugmode.net/2012/05/">May 2012</a>&nbsp;(7)</li>
	<li><a href="https://debugmode.net/2012/04/">April 2012</a>&nbsp;(3)</li>
	<li><a href="https://debugmode.net/2012/03/">March 2012</a>&nbsp;(12)</li>
	<li><a href="https://debugmode.net/2012/02/">February 2012</a>&nbsp;(13)</li>
	<li><a href="https://debugmode.net/2012/01/">January 2012</a>&nbsp;(26)</li>
	<li><a href="https://debugmode.net/2011/12/">December 2011</a>&nbsp;(22)</li>
	<li><a href="https://debugmode.net/2011/11/">November 2011</a>&nbsp;(20)</li>
	<li><a href="https://debugmode.net/2011/10/">October 2011</a>&nbsp;(29)</li>
	<li><a href="https://debugmode.net/2011/09/">September 2011</a>&nbsp;(22)</li>
	<li><a href="https://debugmode.net/2011/08/">August 2011</a>&nbsp;(15)</li>
	<li><a href="https://debugmode.net/2011/07/">July 2011</a>&nbsp;(15)</li>
	<li><a href="https://debugmode.net/2011/06/">June 2011</a>&nbsp;(32)</li>
	<li><a href="https://debugmode.net/2011/05/">May 2011</a>&nbsp;(15)</li>
	<li><a href="https://debugmode.net/2011/04/">April 2011</a>&nbsp;(20)</li>
	<li><a href="https://debugmode.net/2011/03/">March 2011</a>&nbsp;(15)</li>
	<li><a href="https://debugmode.net/2011/02/">February 2011</a>&nbsp;(13)</li>
	<li><a href="https://debugmode.net/2011/01/">January 2011</a>&nbsp;(17)</li>
	<li><a href="https://debugmode.net/2010/12/">December 2010</a>&nbsp;(22)</li>
	<li><a href="https://debugmode.net/2010/11/">November 2010</a>&nbsp;(14)</li>
	<li><a href="https://debugmode.net/2010/10/">October 2010</a>&nbsp;(8)</li>
	<li><a href="https://debugmode.net/2010/09/">September 2010</a>&nbsp;(16)</li>
	<li><a href="https://debugmode.net/2010/08/">August 2010</a>&nbsp;(12)</li>
	<li><a href="https://debugmode.net/2010/07/">July 2010</a>&nbsp;(22)</li>
	<li><a href="https://debugmode.net/2010/06/">June 2010</a>&nbsp;(18)</li>
	<li><a href="https://debugmode.net/2010/05/">May 2010</a>&nbsp;(11)</li>
	<li><a href="https://debugmode.net/2010/04/">April 2010</a>&nbsp;(6)</li>
	<li><a href="https://debugmode.net/2010/03/">March 2010</a>&nbsp;(14)</li>
	<li><a href="https://debugmode.net/2010/02/">February 2010</a>&nbsp;(12)</li>
	<li><a href="https://debugmode.net/2010/01/">January 2010</a>&nbsp;(4)</li>
	<li><a href="https://debugmode.net/2009/12/">December 2009</a>&nbsp;(72)</li>
	<li><a href="https://debugmode.net/2009/11/">November 2009</a>&nbsp;(20)</li>
		</ul>
		</section></aside>

	</div>
	<footer id="colophon" class="site-footer" role="contentinfo">
				<div class="site-info">
	<a href="https://wordpress.com/?ref=footer_custom_powered">Powered by WordPress.com</a>.
	
	</div><!-- .site-info -->	</footer>
</div>
<!--  -->
	<div style="display:none">
	</div>
<script type="text/javascript">
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/dhananjay25.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/dhananjay25.wordpress.com\/wp-login.php?action=logout&_wpnonce=9887d58a2c","homeURL":"https:\/\/debugmode.net\/","postID":"14903","gravDefault":"monsterid","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"","text_direction":"ltr"};
/* ]]> */
</script>
<script type="text/javascript" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource(4)"></script>

	<div id="carousel-reblog-box">
		<form action="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#" name="carousel-reblog">
			<textarea id="carousel-reblog-content" name="carousel-reblog-content" placeholder="Add your thoughts here... (optional)"></textarea>
			<label for="carousel-reblog-to-blog-id" id="carousel-reblog-lblogid">Post to</label>
			<select name="carousel-reblog-to-blog-id" id="carousel-reblog-to-blog-id">
						</select>

			<div class="submit">
				<span class="canceltext"><a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#" class="cancel">Cancel</a></span>
				<input type="submit" name="carousel-reblog-submit" class="button" id="carousel-reblog-submit" value="Reblog Post">
				<input type="hidden" id="carousel-reblog-blog-id" value="10538757">
				<input type="hidden" id="carousel-reblog-blog-url" value="https://debugmode.net">
				<input type="hidden" id="carousel-reblog-blog-title" value="Dhananjay Kumar">
				<input type="hidden" id="carousel-reblog-post-url" value="">
				<input type="hidden" id="carousel-reblog-post-title" value="">
			</div>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="833a484793"><input type="hidden" name="_wp_http_referer" value="/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/">		</form>

		<div class="arrow"></div>
	</div>
<script type="text/javascript" charset="UTF-8" id="polldaddyRatings"><!--//--><![CDATA[//><!--
PDRTJS_settings_7545118_post_14903={"id":7545118,"unique_id":"wp-post-14903","title":"Step%20by%20Step%20implementing%20Onion%20architecture%20in%20ASP.NET%20MVC%20Application","permalink":"https:\/\/debugmode.net\/2015\/04\/17\/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application\/","item_id":"_post_14903"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_7545118_post_14903 == 'undefined' ){PDRTJS_7545118_post_14903 = new PDRTJS_RATING( PDRTJS_settings_7545118_post_14903 );}}
//--><!]]></script><script type="text/javascript" charset="UTF-8" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/rating.js.download"></script>
	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/debugmode.net\/2015\/04\/17\/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application\/":14903};
	</script>
	
		<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-linkedin' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-google-plus-1' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
		<script type="text/javascript" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource(5)"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s0.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s0.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

// Infinite scroll support
jQuery( function( $ ) {
	$( document.body ).on( 'post-load', function() {
		SyntaxHighlighter.highlight();
	} );
} );
</script>
<link rel="stylesheet" id="all-css-0-3" href="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/jetpack-carousel.css" type="text/css" media="all">
<!--[if lte IE 8]>
<link rel='stylesheet' id='jetpack-carousel-ie8fix-css'  href='https://s1.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel-ie8fix.css?m=1412618825h&#038;ver=20121024' type='text/css' media='all' />
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */
var actionbardata = {"siteID":"10538757","siteName":"Dhananjay Kumar","siteURL":"https:\/\/debugmode.net","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/a4ee6598425293dab3d0c39b7600711a?s=50&d=https%3A%2F%2Fs1.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/ixion","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/dhananjay25.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fdebugmode.net%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F","themeURL":"https:\/\/wordpress.com\/theme\/ixion\/","xhrURL":"https:\/\/debugmode.net\/wp-admin\/admin-ajax.php","nonce":"8cc72d706a","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"1a51aac1e1\" \/>","referer":"https:\/\/debugmode.net\/2015\/04\/17\/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application\/","canFollow":"1","feedID":"241501","statusMessage":"","customizeLink":"https:\/\/dhananjay25.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fdhananjay25.wordpress.com%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F","postID":"14903","shortlink":"https:\/\/wp.me\/pIdBX-3Sn","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/debugmode.net\/14903","statsLink":"https:\/\/wordpress.com\/stats\/post\/14903\/debugmode.net","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Ixion","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 7,051 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/dhananjay25.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fdebugmode.net%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"https:\/\/debugmode.net\/wp-admin\/admin-ajax.php","nonce":"535bc7d06a","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","comment_registration":"0","require_name_email":"1","login_url":"https:\/\/dhananjay25.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fdebugmode.net%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F","blog_id":"10538757","local_comments_commenting_as":"<fieldset><label for=\"email\">Email (Required)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Name (Required)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Website<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>","reblog":"Reblog","reblogged":"Reblogged","reblog_add_thoughts":"Add your thoughts here... (optional)","reblogging":"Reblogging...","post_reblog":"Post Reblog","stats_query_args":"blog=10538757&v=wpcom&tz=5&user_id=0&subd=dhananjay25","is_public":"1","reblog_enabled":""};
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/saved_resource(6)"></script><div id="actionbar" class="actnbr-pub-ixion actnbr-has-follow"><ul><li class="actnbr-btn actnbr-hidden"> 			    	<a class="actnbr-action actnbr-actn-follow" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/"><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Follow</span></a> 			    	<div class="actnbr-popover tip tip-top-left actnbr-notice"> 			    		<div class="tip-arrow"></div> 			    		<div class="tip-inner actnbr-follow-bubble"></div> 			    	</div> 			    </li><li class="actnbr-ellipsis actnbr-hidden"> 			  <svg class="gridicon gridicon__ellipsis" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><circle cx="5" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="12" cy="12" r="2"></circle></g></svg> 			  <div class="actnbr-popover tip tip-top-left actnbr-more"> 			  	<div class="tip-arrow"></div> 			  	<div class="tip-inner"> 				  <ul> 				    <li class="actnbr-sitename actnbr-hidden"><a href="https://debugmode.net/"><img alt="" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/a4ee6598425293dab3d0c39b7600711a" class="avatar avatar-50" height="50" width="50"> Dhananjay Kumar</a></li> 				   	<li class="actnbr-folded-customize actnbr-hidden"><a href="https://dhananjay25.wordpress.com/wp-admin/customize.php?url=https%3A%2F%2Fdhananjay25.wordpress.com%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F"><svg class="gridicon gridicon__customize" height="20px" width="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M2 6c0-1.505.78-3.08 2-4 0 .845.69 2 2 2 1.657 0 3 1.343 3 3 0 .386-.08.752-.212 1.09.74.594 1.476 1.19 2.19 1.81L8.9 11.98c-.62-.716-1.214-1.454-1.807-2.192C6.753 9.92 6.387 10 6 10c-2.21 0-4-1.79-4-4zm12.152 6.848l1.34-1.34c.607.304 1.283.492 2.008.492 2.485 0 4.5-2.015 4.5-4.5 0-.725-.188-1.4-.493-2.007L18 9l-2-2 3.507-3.507C18.9 3.188 18.225 3 17.5 3 15.015 3 13 5.015 13 7.5c0 .725.188 1.4.493 2.007L3 20l2 2 6.848-6.848c1.885 1.928 3.874 3.753 5.977 5.45l1.425 1.148 1.5-1.5-1.15-1.425c-1.695-2.103-3.52-4.092-5.448-5.977z" data-reactid=".2.1.1:0.1b.0"></path></g></svg><span>Customize<span></span></span></a></li> 				    <li class="actnbr-folded-follow actnbr-hidden"><a class="actnbr-action actnbr-actn-follow" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/"><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Follow</span></a></li> 					<li class="actnbr-signup actnbr-hidden"><a href="https://wordpress.com/start/">Sign up</a></li> 				    <li class="actnbr-login actnbr-hidden"><a href="https://dhananjay25.wordpress.com/wp-login.php?redirect_to=https%3A%2F%2Fdebugmode.net%2F2015%2F04%2F17%2Fstep-by-step-implementing-onion-architecture-in-asp-net-mvc-application%2F">Log in</a></li> 				     				    <li class="actnbr-shortlink actnbr-hidden"><a href="https://wp.me/pIdBX-3Sn">Copy shortlink</a></li> 				    <li class="flb-report actnbr-hidden"><a href="http://en.wordpress.com/abuse/">Report this content</a></li> 				     				     				    <li class="actnbr-subs actnbr-hidden"><a href="https://subscribe.wordpress.com/">Manage subscriptions</a></li> 				    <li class="actnbr-fold actnbr-hidden"><a href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/">Collapse this bar</a></li> 			      </ul> 			    </div> 		      </div> 		    </li> 	      </ul></div>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/w.js.download" type="text/javascript" async="" defer=""></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'10538757','blog_tz':'5','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'10538757','v':'wpcom','tz':'5','user_id':'0','post':'14903','subd':'dhananjay25'}]);
_stq.push(['extra', {'crypt':'UE5tW3cvZGRTaTJTOXItZEJpOUUyQWUzOD0uLl1maHhQaDk5JVJEL3RfdnIlc2hOd2JHeSVtYyVtYj8mPVdbRTUwS2ptY1traH5Kc1VZRDNHeXdHdVRXeH5uP0hpOFhKLCxCP0REW1s/WVt2MldLOURvd2xOUiwvTC1BP3gmUlgxYm1vPXwseUh4WU15S1ArW3VCMVlPXXg3Zjd8U3xCMUtidDExdkJBdjR0aSVQZ3FlP11uclN8WDk2PzU2MXAzczJWWUtXUDZrLGhQcnVVRER2aDRwdl1UdlNET2tK'}]);
_stq.push([ 'clickTrackerInit', '10538757', '14903' ]);
	</script>
<noscript>&lt;img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /&gt;</noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>


<!--
	generated in 0.294 seconds
	114013 bytes batcached for 300 seconds
-->
<div id="sharing_email" style="display: none;">
		<form action="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="">

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="">

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="">

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off">
			<script> document.getElementById('jetpack-source_f_name').value = ''; </script>
			<div class="recaptcha" id="sharing_recaptcha"></div><input type="hidden" name="recaptcha_public_key" id="recaptcha_public_key" value="6LcYW8MSAAAAADBAuEH9yaPcF7lWh11Iq62ZKtoo">
			<img style="float: right; display: none" class="loading" src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/loading.gif" alt="loading" width="16" height="16">
			<input type="submit" value="Send Email" class="sharing_send">
			<a rel="nofollow" href="https://debugmode.net/2015/04/17/step-by-step-implementing-onion-architecture-in-asp-net-mvc-application/#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div><img src="./Step by Step implementing Onion architecture in ASP.NET MVC Application – Dhananjay Kumar_files/g.gif" alt=":)" id="wpstats"></body></html>